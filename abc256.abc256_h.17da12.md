---
title: "ABC256_Ex_translation.md"
tags: []
author: ""
created: ""
---

### 题意
给定 $n,q$ 和一个长度为 $n$ 的数组 $a$。  
然后给定 $q$ 次操作，每行一个 $t$ 表示类型：
- 操作 $1$：给定 $l,r,x$，将 $a_l$ 到 $a_r$ 赋值为 $\lfloor\dfrac{a_i}x\rfloor$
- 操作 $2$：给定 $l,r,x$，将 $a_l$ 到 $a_r$ 赋值为 $x$
- 操作 $3$：给定 $l,r$，输出 $\sum_{i=l}^ra_i$
### 数据范围
$1\le n\le 5\times 10^5$  
$1\le Q,a_i,x,y\le 10^5$  
$x\ge 2$

---
### 输入格式
第一行 $2$ 个整数 $n,q$。  
接下来 $1$ 行 $n$ 个整数 $a_i$。  
接下来 $q$ 行，每行若干个整数表示一次操作。
### 输出格式
若干行，每行一个整数表示每次操作 $3$ 的结果。

---
### 样例输入1
```
3 5
2 5 6
3 1 3
1 2 3 2
3 1 2
2 1 2 3
3 1 3
```
### 样例输出1
```
13
4
9
```
### 样例解释1
$a=(2,5,6)$  
$a_1+a_2+a_3=2+5+6=13$  
$a=(2,2,3)$  
$a_1+a_2=2+2=4$  
$a=(3,3,3)$  
$a_1+a_2+a_3=3+3+3=9$

---
### 样例输入2
```
6 11
10 3 5 20 6 7
3 1 6
1 2 4 3
3 1 3
2 1 4 10
3 3 6
1 3 6 2
2 1 4 5
3 1 6
2 1 3 100
1 2 5 6
3 1 4
```
### 样例输出2
```
51
12
33
26
132
```

