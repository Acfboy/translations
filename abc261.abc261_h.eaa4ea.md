---
title: "ABC261_Ex_translation.md"
tags: []
author: ""
created: ""
---

##  题意 

有一张 $N$ 个点 $M$ 条边的有向图，第 $i$ 条边从 $A_i$ 走到 $B_i$，路程为 $C_i$。

初始有一个棋子放在节点 $v$ 处，高桥和青木进行一个游戏，他们轮流操作，每次操作如下：

- 如果当前棋子所在节点没有出边则游戏结束。
- 否则选择一条出边并把棋子移动过去。

高桥先手，他试图最小化棋子经过的总路程，青木试图最大化总路程。

具体地说，高桥优先考虑以有限的步数结束游戏。如果这是可能的，他会尽量减小总路程，青木优先考虑防止游戏在有限次数的移动中结束。如果这是不可能的，他会尝试最大化总路程。

双方都采用最优策略，游戏是否会结束。如果结束，求出棋子经过的总路程。

##  数据范围

- $1\le N\le 2\times 10^5$
- $0\le M\le 2\times 10^5$
- $1\le v\le N$
- $1\le A_i,B_i\le N$
- 图无重边，无自环。
- $0\le C_i\le 10^9$

##  输入格式

第一行三个数 $N,M,v$。

接下来 $M$ 行，每行三个数 $A_i,B_i,C_i$。

##  输出格式

如果不会结束，输出 `INFINITY`，否则输出答案。

##  样例

###  样例输入1

```
7 6 1
1 2 1
1 3 10
2 4 100
2 5 102
3 6 20
3 7 30
```

###  样例输出1

```
40
```

###  样例解释1

高桥把棋子从 $1$ 移动到 $3$，青木移动到 $7$，游戏结束，总路程为 $10+30=40$。

###  样例输入2

```
3 6 3
1 2 1
2 1 2
2 3 3
3 2 4
3 1 5
1 3 6
```

###  样例输出2

```
INFINITY
```

###  样例输入3

```
4 4 1
1 2 1
2 3 1
3 1 1
2 4 1
```

###  样例输出3

```
5
```

### 样例解释3

棋子移动路线是 $1\to 2\to 3\to 1\to 2\to 4$。

